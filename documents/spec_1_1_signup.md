# 1.1 웹 사이트 회원가입

## 기본 정보
- **API**: 회원가입
- **관리자**: Yes  
- **사용자**: Yes
- **카테고리**: 회원가입
- **상세기능**: dgu.ac.kr 또는 dongguk.edu 이메일로 인증
- **디자인**: Not started
- **백엔드 구현**: Done  
- **프론트 구현**: Not started

## 사용사례 명세

| **항목** | **내용** |
|----------|----------|
| **사용사례** | 사용자/관리자가 웹 사이트에 회원가입하기 |
| **액터** | 웹 사이트 사용자 |
| **목적** | 웹 사이트에서 사용할 계정을 만든다. |
| **시작조건** | 사용자는 회원가입 페이지에 접근할 수 있어야 한다. |

## 사건의 흐름

| **순서** | **액터 측 액션** | **시스템 측 반응** |
|----------|------------------|-------------------|
| 1 | 사용자가 회원가입 버튼을 클릭한다. |  |
| 2 |  | 이메일을 입력하는 폼을 제공한다. (이메일 인증 단계 시작) |
| 3 | 이메일을 입력한다. |  |
| 4 |  | 인증번호를 해당 이메일로 전송하고, 인증번호 입력 폼을 제공한다. |
| 5 | 인증번호를 입력한다. |  |
| 6 |  | 이메일 인증을 완료 처리하고, 회원가입 폼 (이미 입력했던 이메일, 비밀번호, 이름, 학과, 학번, 전화번호)을 제공한다. |
| 7 | 회원가입 폼을 입력한다. |  |
| 8 |  | 입력한 정보가 유효한지(이메일 인증이 완료되었는지) 확인한다. |
| 9 |  | 입력 정보가 유효하면 사용자 계정을 생성하여 저장한다. |
| 10 |  | 사용자를 로그인 화면으로 이동시킨다. |

## 대안 흐름

| **단계** | **대안 상황** |
|----------|---------------|
| 4 | **입력 정보가 유효하지 않음** |
|  | 4-a. 입력한 이메일이 dgu.ac.kr 또는 dongguk.edu가 아닌 경우, 이메일 주소를 다시 입력하라고 요청한다. |
|  | 4-b. 이미 존재하는 아이디인 경우, 아이디를 다시 입력하라고 요청한다. |
|  | 4-c. 이메일 인증번호가 일치하지 않는 경우, 다시 인증하라고 요청한다. |

## 종료 조건
새로운 계정이 생성되어 시스템에 저장되면 해당 흐름을 종료한다.

## 추가 사항
- 관리자/사용자 회원가입 통합
- 이메일 인증 (dgu.ac.kr만 허용)  
- 서버실에 방문하여 DB에 Role 값 수정
- 일반 유저 회원가입만 가능, 회원가입 시 이메일 인증 (dgu.ac.kr)
- Default Role은 User이므로, 요청값에 넣지 않아도 자동으로 처리된다.
- 관리자 Role: 일반 사용자로 가입 후 직접 서버실 DB에서 role 변경